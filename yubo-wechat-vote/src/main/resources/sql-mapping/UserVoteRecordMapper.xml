<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yubo.wechat.vote.dao.UserVoteRecordMapper" >
  <resultMap id="BaseResultMap" type="com.yubo.wechat.vote.dao.pojo.UserVoteRecord" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 20 11:04:13 CST 2016.
    -->
    <id column="uvote_id" property="uvoteId" jdbcType="BIGINT" />
    <result column="user_id" property="userId" jdbcType="INTEGER" />
    <result column="vote_id" property="voteId" jdbcType="BIGINT" />
    <result column="user_choice_answer" property="userChoiceAnswer" jdbcType="VARCHAR" />
    <result column="user_open_answer" property="userOpenAnswer" jdbcType="VARCHAR" />
    <result column="answer_time" property="answerTime" jdbcType="TIMESTAMP" />
    <result column="last_modify" property="lastModify" jdbcType="TIMESTAMP" />
    <result column="visiable" property="visiable" jdbcType="TINYINT" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 20 11:04:13 CST 2016.
    -->
    uvote_id, user_id, vote_id, user_choice_answer, user_open_answer, answer_time, last_modify, 
    visiable
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 20 11:04:13 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from user_vote_record
    where uvote_id = #{uvoteId,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 20 11:04:13 CST 2016.
    -->
    delete from user_vote_record
    where uvote_id = #{uvoteId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.yubo.wechat.vote.dao.pojo.UserVoteRecord" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 20 11:04:13 CST 2016.
    -->
    insert into user_vote_record (uvote_id, user_id, vote_id, 
      user_choice_answer, user_open_answer, answer_time, 
      last_modify, visiable)
    values (#{uvoteId,jdbcType=BIGINT}, #{userId,jdbcType=INTEGER}, #{voteId,jdbcType=BIGINT}, 
      #{userChoiceAnswer,jdbcType=VARCHAR}, #{userOpenAnswer,jdbcType=VARCHAR}, #{answerTime,jdbcType=TIMESTAMP}, 
      #{lastModify,jdbcType=TIMESTAMP}, #{visiable,jdbcType=TINYINT})
  </insert>
  <insert id="insertSelective" parameterType="com.yubo.wechat.vote.dao.pojo.UserVoteRecord" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 20 11:04:13 CST 2016.
    -->
    insert into user_vote_record
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="uvoteId != null" >
        uvote_id,
      </if>
      <if test="userId != null" >
        user_id,
      </if>
      <if test="voteId != null" >
        vote_id,
      </if>
      <if test="userChoiceAnswer != null" >
        user_choice_answer,
      </if>
      <if test="userOpenAnswer != null" >
        user_open_answer,
      </if>
      <if test="answerTime != null" >
        answer_time,
      </if>
      <if test="lastModify != null" >
        last_modify,
      </if>
      <if test="visiable != null" >
        visiable,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="uvoteId != null" >
        #{uvoteId,jdbcType=BIGINT},
      </if>
      <if test="userId != null" >
        #{userId,jdbcType=INTEGER},
      </if>
      <if test="voteId != null" >
        #{voteId,jdbcType=BIGINT},
      </if>
      <if test="userChoiceAnswer != null" >
        #{userChoiceAnswer,jdbcType=VARCHAR},
      </if>
      <if test="userOpenAnswer != null" >
        #{userOpenAnswer,jdbcType=VARCHAR},
      </if>
      <if test="answerTime != null" >
        #{answerTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastModify != null" >
        #{lastModify,jdbcType=TIMESTAMP},
      </if>
      <if test="visiable != null" >
        #{visiable,jdbcType=TINYINT},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.yubo.wechat.vote.dao.pojo.UserVoteRecord" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 20 11:04:13 CST 2016.
    -->
    update user_vote_record
    <set >
      <if test="userId != null" >
        user_id = #{userId,jdbcType=INTEGER},
      </if>
      <if test="voteId != null" >
        vote_id = #{voteId,jdbcType=BIGINT},
      </if>
      <if test="userChoiceAnswer != null" >
        user_choice_answer = #{userChoiceAnswer,jdbcType=VARCHAR},
      </if>
      <if test="userOpenAnswer != null" >
        user_open_answer = #{userOpenAnswer,jdbcType=VARCHAR},
      </if>
      <if test="answerTime != null" >
        answer_time = #{answerTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastModify != null" >
        last_modify = #{lastModify,jdbcType=TIMESTAMP},
      </if>
      <if test="visiable != null" >
        visiable = #{visiable,jdbcType=TINYINT},
      </if>
    </set>
    where uvote_id = #{uvoteId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.yubo.wechat.vote.dao.pojo.UserVoteRecord" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 20 11:04:13 CST 2016.
    -->
    update user_vote_record
    set user_id = #{userId,jdbcType=INTEGER},
      vote_id = #{voteId,jdbcType=BIGINT},
      user_choice_answer = #{userChoiceAnswer,jdbcType=VARCHAR},
      user_open_answer = #{userOpenAnswer,jdbcType=VARCHAR},
      answer_time = #{answerTime,jdbcType=TIMESTAMP},
      last_modify = #{lastModify,jdbcType=TIMESTAMP},
      visiable = #{visiable,jdbcType=TINYINT}
    where uvote_id = #{uvoteId,jdbcType=BIGINT}
  </update>
  
  
  <select id="selectByParam" parameterType="java.util.Map" resultMap="BaseResultMap">
	    select 
	    <include refid="Base_Column_List" />
	    from user_vote_record
	    where visiable = 1
	    <if test="userId!=null">
	    	AND user_id = #{userId,jdbcType=INTEGER}
	    </if> 
	     <if test="voteId!=null">
	    	AND vote_id = #{voteId,jdbcType=INTEGER}
	    </if> 
	    LIMIT #{startRow},#{rowCount}
  </select>
  
  
   <select id="countByParam" parameterType="com.yubo.wechat.vote.dao.pojo.UserVoteRecord" resultType="java.lang.Integer">
	    select 
	   count(*)
	    from user_vote_record
	    where visiable = 1
	    <if test="userId!=null">
	    	AND user_id = #{userId,jdbcType=INTEGER}
	    </if> 
	     <if test="voteId!=null">
	    	AND vote_id = #{voteId,jdbcType=INTEGER}
	    </if> 
  </select>
</mapper>